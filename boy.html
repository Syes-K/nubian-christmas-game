<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>nubia 1-6</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
    <meta name="format-detection" content="telephone=no" />
    <meta name="MobileOptimized" content="320" />
    <link rel="stylesheet" href="style/common.css" />
    <link rel="stylesheet" href="style/page.css" />
    <script type="text/javascript" src="http://115.159.69.89:3002/socket.io/socket.io.js"></script>
    <script type="text/javascript" src="js/jquery.js"></script>
    <script type="text/javascript" src="js/main.js"></script>

    <script src="./js/boy-page/loading.js"></script>

    <script src="./js/boySceneList.js"></script>
    <script src="./js/scene.js"></script>
    <script src="./js/boy.js"></script>
    <script>
        function getQueryString(name) {
            var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)");
            var r = window.location.search.substr(1).match(reg);
            if (r != null) return unescape(r[2]);
            return null;
        }
        var socket = io.connect('http://115.159.69.89:3002');
        var myid = getQueryString('myid');
        var boy = new Boy('y1', 'x1', socket)
        var scene = new Scene(sceneList, boy);
    </script>

</head>
<body>
    <!-- 
        TODO list
        
        1. 我的奖品-文案提取出来
        2. 二维码-动态设置，文字对应
        3. 手机亮屏切换
        4. 喵喵的图片添加叉子
        5. 屏幕尺寸设置大小，并垂直居中， 宽度还得区分左、右手机，居左或者居右
        6. 开门文案右移
        7. 页面转场淡出动画
        8. 血条图片（往中间减少）
        9. 小鱼干动画2链接
        10. 去除4只猫，保留一只猫和表情
        11. 初始为：逗猫棒、鱼干攻击
        12. 添加猫咪声音（两边都有）
        13. 优惠券金额未确认
        14. 分享内容
        15. 整体背景音乐和pk背景音乐。
        17. 链接离线提示

        girl.html
        boy.html
     -->


    <!-- 加载中 start -->
    <div class="page bg none" id="loading">
        <div class="bg">
            <img src="images/loading/loading_bg.jpg">
        </div>
        <div class="loading auto-x" data-step="s1" data-top="360">
            <div class="loading__cat">
                <img src="images/loading/loading_cat.png">
            </div>
            <div class="loading__bar">
                <img src="images/loading/loading_bar.png">
            </div>
            <div class="loading__num">
                100%
            </div>
        </div>
    </div>
    <!-- 加载中 end -->

    <!-- p5 start -->
    <div class="page bg none" id="p1">
        <img src="images/p5/p5_right-bg.jpg">
    </div>
    <!-- p5 end -->

    <!-- 场景A-B start -->
    <div class="page bg none" id="p2">
        <div class="bg">
            <img src="images/scene/scene_right_bg-1.jpg">
        </div>

        <div class="boy-2" data-step="s30,s40,s50,s60" data-top="670">
            <img src="images/boy/boy-2.png">
        </div>
        <div class="boy-4" data-step="s10,s20" data-top="440">
            <img src="images/boy/boy-4.png">
        </div>

        <!-- 气泡提示 -->
        <div class="p4__tips">
            <div class="p4__tips-2 none" data-step="s20" data-top="16">
                <img src="images/p4/tips-2.png">
            </div>
            <div class="p4__tips-4 none" data-step="s40" data-top="370">
                <img src="images/p4/tips-4.png">
            </div>
            <div class="p4__tips-6 none" data-step="s50" data-top="-10">
                <img src="images/p4/tips-6.png">
            </div>
            <div class="p4__tips-9 none" data-step="s60" data-top="238">
                <img src="images/p4/tips-9.png">
            </div>
        </div>
    </div>
    <!-- 场景A-B end -->

    <!-- 叫门 start -->
    <div class="page bg none" id="p5">
        <div class="bg">
            <img src="images/scene/scene_right_bg-2.jpg">
        </div>

        <div class="girl-5 none" data-step="s10,s20,s30" data-top="540">
            <img src="images/girl/girl-5.png">
        </div>
        <div class="boy-1 none" data-step="s30" data-top="132">
            <img src="images/boy/boy-1.png">
        </div>

        <div class="p4__tips none" data-step="s20">
            <div class="p4__tips-8" data-top="330">
                <img src="images/p4/tips-8.png">
            </div>
        </div>
    </div>
    <!-- 叫门 end -->

    <!-- 场景C start -->
    <div class="page bg none" id="p6">
        <div class="bg">
            <img src="images/scene/scene_right_bg-3.jpg">
        </div>

        <div class="girl-14 none" data-step="s10,s20" data-top="122">
            <img src="images/girl/girl-14.png">
        </div>
        <div class="girl-7 none" data-step="s30,s40" data-top="330">
            <img src="images/girl/girl-7.png">
        </div>
        <div class="girl-8" data-step="s50,s60" data-top="320">
            <img src="images/girl/girl-8.png">
        </div>

        <div class="scene__right_tips-5 none" data-step="s20" data-top="125">
            <img src="images/scene/scene_right_tips-5.png">
        </div>
        <div class="scene__right_tips-6 none" data-step="s40" data-top="154">
            <img src="images/scene/scene_right_tips-6.png">
        </div>
        <div class="scene__right_tips-7" data-step="s60" data-top="48">
            <img src="images/scene/scene_right_tips-7.png">
        </div>
    </div>
    <!-- 场景C end -->

    <!-- PK前转场页面 start -->
    <div class="page bg none" id="p7">
        <div class="bg">
            <img src="images/p8/p8_right_bg.jpg">
        </div>
        <div class="p8__text p8__right_text" data-top="264">
            <h3><span>我</span><span>的</span><span>阿</span><span>吉</span></h3>
            <h3><span class="f-50">(qiang)</span><span>框</span><span class="f-50">(bi)</span></h3>
            <h3><span>么</span><span>大</span><span>的</span><span>误</span><span>会</span></h3>
            <h3>o(TヘTo)</h3>
        </div>
    </div>
    <!-- PK前转场页面 end -->

    <!-- pk start -->
    <div class="page bg none" id="pk">
        <div class="bg">
            <img src="images/pk/pk_right_bg.jpg">
        </div>

        <!-- 血条 css: n_0, n_25, n_75-->
        <div class="pk-blood pk__right-blood n_0" data-top="60">
            <img src="images/pk/pk_blood.png">
        </div>

        <div class="pk__right-text" data-top="230">
            <img src="images/pk/pk_right_text-1.png">
        </div>

        <div class="boy-8" data-top="320">
            <img src="images/boy/boy-8.png">
        </div>
        <div class="boy-9" data-top="170">
            <img src="images/boy/boy-9.png">
        </div>
        <div class="boy-12" data-top="170">
            <img src="images/boy/boy-12.png">
        </div>

        <div class="pk__right-fish" data-top="245">
            <img src="images/pk/pk_fish.png">
        </div>

        <div class="pk-btn pk__right-btn" data-top="737">
            <img src="images/pk/pk_btn.png">
        </div>

        <div class="pk-ko pk__right-ko" data-top="301">
            <img src="images/pk/pk_ko.png">
        </div>

        <div class="pk-cat pk__right-cat-1 none" data-top="338">
            <img src="images/pk/pk_cat-1.png">
        </div>
        <div class="pk-cat pk__right-cat-2 none" data-top="408">
            <img src="images/pk/pk_cat-2.png">
        </div>
        <div class="pk-cat pk__right-cat-3 none" data-top="405">
            <img src="images/pk/pk_cat-3.png">
        </div>
        <div class="pk-cat pk__right-cat-4 " data-top="384">
            <img src="images/pk/pk_cat-4.png">
        </div>

        <div class="pk-cat-tips pk__right-cat-tips" data-top="144">
            <img src="images/pk/pk_cat_face-1.png">
        </div>
    </div>
    <!-- pk end -->

    <!-- 牵手页面 start -->
    <div class="page bg none" id="p9">
        <div class="bg">
            <img src="images/scene/scene_right_bg-4.jpg">
        </div>

        <div class="bg p9-phone none" data-step="s10">
            <img src="images/scene/scene_right_phone.png">
        </div>
        <!-- <div class="p9__right_phone-m" data-top="208">
            <img src="images/scene/scene_phone-2.png">
        </div> -->

        <div class="boy-10 none" data-step="s20" data-top="213">
            <img src="images/boy/boy-10.png">
        </div>
        <div class="boy-11 none" data-step="s10" data-top="213">
            <img src="images/boy/boy-11.png">
        </div>
    </div>
    <!-- 牵手页面 end -->

    <!-- 牵手之后过场页面 start -->
    <div class="page bg none" id="p10">
        <div class="bg">
            <img src="images/scene/scene_bg-5.jpg">
        </div>

        <div class="p10__right_phone-m auto-x" data-top="120">
            <img src="images/scene/scene_phone-4.png">
        </div>
    </div>
    <!-- 牵手之后过场页面 end -->

    <!-- 抽奖页 start -->
    <div class="page bg none" id="p11">
        <div class="bg">
            <img src="images/scene/scene_bg-5.jpg">
        </div>
        <div class="p11-cat shake">
            <img src="images/scene/scene_last-cat.png">
        </div>
        <div class="bg_black3 auto-x auto-y" data-step="s10"></div>

        <!-- 抽奖按钮 -->
        <div class="p11__btn-1 auto-x" data-top="146" data-step="s10">
            <img src="images/scene/scene_last-1.png">
        </div>

        <!-- 无奖提示 -->
        <div class="p11__tips-1 auto-x none" data-top="146">
            <div class="p11__btn-1">
                <img src="images/scene/scene_last-2.png">
            </div>
            <div class="button auto-x p11__btn-2">
                <img src="images/scene/scene_btn-2.png">
            </div>
        </div>
    </div>
    <!-- 抽奖页 end -->

    <!--音乐 start-->
    <div id="music">
        <div class="music play"></div>
    </div>
    <!--音乐 end-->

    <!-- socket链接失败 start -->
    <div class="page bg bg_black none" id="socket">
        <div class="socket__tips auto-x">
            <div class="socket__tips-text">
                对方已离线<br>请重新开始
            </div>
            <div class="socket__tips-bg">
                <img src="images/cover/cover_prize-bg.png">
            </div>
            <div class="socket__tips-btn">
                <img src="images/cover/cover_prize-btn.png">
            </div>
        </div>
    </div>
    <!-- socket链接失败 end -->
    
    <!--下面是竖屏提示,性能原因丢最后-->
    <div id="orientLayer" class="mod-orient-layer">
        <div class="mod-orient-layer__content">
            <i class="icon mod-orient-layer__icon-orient"></i>
            <div class="mod-orient-layer__desc">为了更好的体验，请使用竖屏浏览</div>
        </div>
    </div>


    <style type="text/css">
        /* 样式放在结尾，防止 base64 图片造成拥塞 */
        @keyframes rotation {
            10% {
                transform: rotate(90deg);
                -webkit-transform: rotate(90deg)
            }
            50% {
                transform: rotate(0);
                -webkit-transform: rotate(0)
            }
            60% {
                transform: rotate(0);
                -webkit-transform: rotate(0)
            }
            90% {
                transform: rotate(90deg);
                -webkit-transform: rotate(90deg)
            }
            100% {
                transform: rotate(90deg);
                -webkit-transform: rotate(90deg)
            }
        }

        @-webkit-keyframes rotation {
            10% {
                transform: rotate(90deg);
                -webkit-transform: rotate(90deg)
            }
            50% {
                transform: rotate(0);
                -webkit-transform: rotate(0)
            }
            60% {
                transform: rotate(0);
                -webkit-transform: rotate(0)
            }
            90% {
                transform: rotate(90deg);
                -webkit-transform: rotate(90deg)
            }
            100% {
                transform: rotate(90deg);
                -webkit-transform: rotate(90deg)
            }
        }

        .mod-orient-layer {
            display: none;
            position: fixed;
            height: 100%;
            width: 100%;
            left: 0;
            top: 0;
            right: 0;
            bottom: 0;
            background: #000;
            z-index: 9997
        }

        .mod-orient-layer__content {
            position: absolute;
            width: 100%;
            top: 45%;
            margin-top: -75px;
            text-align: center
        }

        .mod-orient-layer__icon-orient {
            display: inline-block;
            width: 67px;
            height: 109px;
            background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIYAAADaCAMAAABU68ovAAAAXVBMVEUAAAD29vb////x8fH////////x8fH5+fn29vby8vL////5+fn39/f6+vr////x8fH////////+/v7////09PT////x8fH39/f////////////////////x8fH///+WLTLGAAAAHXRSTlMAIpML+gb4ZhHWn1c2gvHBvq1uKJcC6k8b187lQ9yhhboAAAQYSURBVHja7d3blpowFIDhTUIAOchZDkre/zE7ycySrbUUpsRN2/1fzO18KzEqxEVgTiZNfgmmtxRc8iaR8HNe8x4BtjQePKayYCIoyBSgvNNE1AkNSHqZyLqk97EgUCCHBzZ5mkg7ScvIJuIyOyXBRFxgpqWZyGsAZLB1KjsJi8nutHU4JCRbFRH8tmirI9k8Jx2sqNs8K/m0LQkrktO2crgcgXGB4AiTEsB0hJfo9MGgX7CGcYiYwQxmMOOvZwRhBG8tCoMXjBDeXvWCEcHbi14wgCBmMIMZzGAGM5jxETNwzMAxA8cMHDNwzMAxA8cMHDNwzMAxA8cMHDNwzMAxY6E2rUQxnH2tz9cirlJFwFBJedaPnUv0M7++egPDE8iAJcIDmxwH5wwv9vUviw2kLbVO3TJU5uul/EyB0FoLp4x60PdGUd3qPurrWyjGGTc05u+1dcgI7/+tCCPARWGhH7o5Y7RCf+bH9ctXLp6v2BVDxfqz0oPXeSVaNtINo/1SXDv4dck8IIkbhtC2ol+iouEonTBCbYvVMnXOjxww6s/RFrBUpXHh/gw1rHj5d/qhYn9Gpk2FWh6xRBRX5Oj3Znh2Sq49/L6+y8pB26q9GbE2dbA2mVbx6I+7MfBglLCttm73ZQi7AD3iL4HqjFYJHSPRppqaUaJ3ATpGa+ckpGak2hRRMyqjGMkvl+xyFeSMwjAqcsZgGDdyhl0oNTnDN4yenJGZFGxNChP5/Y3efh6SM2rDOJMzboYxkDMqwyjIGcIw6F+io2FU1IxIm1JqRmgXSkvNKNCXeTpGrU0JNSO2c6LIGPgCS8AuDHz9ta0SXWDtxoDRH+MqlbC2Dt2G2JFRadtQZt2qq/orGowdGb2euxYiqWEpVWhTBnszoNAPdStuQwxqf0aocdWKW4Z+DfszIh8pxJqbuCE4YAC+4bm0evtipjpgJHeFnyyt1Ku2xa0bhjxr27p75rECNwyI9ZwvXkHq+7aTaMEV44YYy/spfgjgjNHaWW+GeUhGEX7tLlVinIFDDSgnOwhi1V6bU0b6tVS9eAERe863g4dRrtiHdc6o+nn5vtyVVgR79Cqt4uL6gfHPQyGqtP2vf7HADGbcYwaOGThm4JiBYwaOGThm4JiBYwaOGThm4JiBYwaOGThm4JiBYwaOGThm4JjhtOM+J/AgT008yDMkN/dPP9hzS8zAMQN3OEYeekp5YU7KOKXwVXqiY+QS7smcinGKABWdiBgpPJTSMHJ4KidhhPBUSMLw4CmPhKHgKUXCkHsygum71ftNSgCX6bsl8FQyfbcL5EdYsDk0R3j7aiA5wpt5AjKg/2gLJEBD/0Hf2OOf/vRrj6z/7GtP4B3nMKyjHA12kIPSjnJs3FEO0TvKkYJHOWCR+rjJH0Vn6fI5PjNbAAAAAElFTkSuQmCC');
            transform: rotate(90deg);
            -webkit-transform: rotate(90deg);
            -webkit-animation: rotation infinite 1.5s ease-in-out;
            animation: rotation infinite 1.5s ease-in-out;
            -webkit-background-size: 67px;
            background-size: 67px
        }

        .mod-orient-layer__desc {
            margin-top: 20px;
            font-size: 15px;
            color: #fff
        }

        .mod-orient-layer__desc {
            margin-top: 20px;
            font-size: 15px;
            color: #fff
        }
    </style>

    <script>
        var orientLayer = document.getElementById("orientLayer");
        //判断横屏竖屏
        function checkDirect() {
            if (document.documentElement.clientHeight >= document.documentElement.clientWidth) {
                return "portrait";
            } else {
                return "landscape";
            }
        }
        //显示屏幕方向提示浮层
        function orientNotice() {
            var orient = checkDirect();
            if (orient == "portrait") {
                orientLayer.style.display = "none";
            } else {
                orientLayer.style.display = "block";
            }
        }
        function init() {
            orientNotice();
            window.addEventListener("onorientationchange" in window ? "orientationchange" : "resize", function () {
                setTimeout(orientNotice, 200);
            })
        }
        init();
    </script>
</body>
</html>